{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?0090"],"names":["_createElementVNode","class","for","value","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","_toDisplayString","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_createVNode","_component_app_status","type","status","_hoisted_7","id","$event","onClick","_createElementBlock","_ctx","params","setup","route","useRoute","router","useRouter","store","useStore","ref","loading","request","onMounted","dispatch","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppLoader","AppStatus","__exports__","render"],"mappings":"2IAGOA,eAA8B,cAAtB,iBAAa,G,EACrBA,eAAwB,cAAhB,WAAO,G,EACfA,eAAsB,cAAd,SAAK,G,EACbA,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBC,MAAM,gB,EACTD,eAAkC,SAA3BE,IAAI,UAAS,UAAM,G,EAExBF,eAAsC,UAA9BG,MAAM,QAAO,YAAQ,G,EAC7BH,eAA0C,UAAlCG,MAAM,aAAY,WAAO,G,EACjCH,eAAuC,UAA/BG,MAAM,UAAS,WAAO,G,EAC9BH,eAA4C,UAApCG,MAAM,WAAU,eAAW,G,GAHnCC,EACAC,EACAC,EACAC,G,SAOKN,MAAM,0B,8HApBCO,4BAAlBC,eAAwCC,EAAA,CAAAC,SACCH,4BAAzCC,eAkBWG,EAAA,C,MAlBDC,KAAA,GAAKC,MAAM,UAArB,C,wBACE,iBAAsD,CAAtDd,eAAsD,UAAnDe,EAAmD,eAArB,KAAEC,eAAER,UAAQS,KAAG,KAChDjB,eAAkD,UAA/CkB,EAA+C,eAAvB,KAAEF,eAAER,UAAQW,OAAK,KAC5CnB,eAA2D,UAAxDoB,EAAwD,eAAlC,KAAEJ,eAAER,WAASA,UAAQa,SAAM,KACpDrB,eAAqE,UAAlEsB,EAAkE,EAAzCC,eAAqCC,EAAA,CAAxBC,KAAMjB,UAAQkB,QAA3B,mBAE5B1B,eAQM,MARN,EAQM,CAPJ2B,EAOI,eANJ3B,eAKS,UALD4B,GAAG,S,qDAAkBpB,SAAMqB,KAAnC,gBAA6BrB,cAQ/BR,eAA2D,UAAnDC,MAAM,aAAc6B,QAAK,8BAAEtB,yCAAQ,WACDA,+BAA1CuB,eAAuE,U,MAA/D9B,MAAM,MAAO6B,QAAK,8BAAEtB,yCAA0B,aAAtD,0B,QAjBF,iBAmBAuB,eAEK,KAFL,EAA0C,kBAC1Bf,eAAEgB,SAAOC,OAAOL,IAAI,SACpC,I,gHAYa,GACbM,MADa,WAEX,IAAMC,EAAQC,iBACRC,EAASC,iBACTC,EAAQC,iBACRd,EAASe,iBACTC,EAAUD,gBAAI,GACdE,EAAUF,eAAI,IAEpBG,eAAS,wCAAC,2GACRF,EAAQvC,OAAQ,EADR,SAEcoC,EAAMM,SAAS,kBAAmBV,EAAMF,OAAOL,IAF7D,OAERe,EAAQxC,MAFA,OAGRuB,EAAOvB,MAAP,UAAewC,EAAQxC,aAAvB,aAAe,EAAeuB,OAC9BgB,EAAQvC,OAAQ,EAJR,4CAOV,IAAM2C,EAAaC,gBAAS,kBAAMJ,EAAQxC,MAAMuB,SAAWA,EAAOvB,SAE5D6C,EAAK,yDAAI,8GACPT,EAAMM,SAAS,iBAAkBV,EAAMF,OAAOL,IADvC,OAEbS,EAAOY,KAAK,KAFC,2CAAJ,qDAKLC,EAAK,yDAAI,2GACPC,EADO,iCACIR,EAAQxC,OADZ,IACmBuB,OAAQA,EAAOvB,MAAOyB,GAAIO,EAAMF,OAAOL,KAD1D,SAEPW,EAAMM,SAAS,iBAAkBM,GAF1B,OAGbR,EAAQxC,MAAMuB,OAASA,EAAOvB,MAHjB,2CAAJ,qDAMX,MAAO,CAACuC,UAASC,UAASS,gBAAUJ,SAAQE,SAAQxB,SAAQoB,eAE9DO,WAAY,CAACC,eAASC,iBAAWC,mB,qBC7DnC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.2fec164e.js","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n    <p><strong>Имя владельца</strong>: {{request.fio}}</p>\r\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\r\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\r\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\r\n\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Статус</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{$route.params.id}} нет.\r\n  </h3>\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, computed} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport AppPage from '../components/ui/AppPage.vue'\r\nimport AppLoader from '../components/ui/AppLoader.vue'\r\nimport AppStatus from '../components/ui/AppStatus.vue'\r\nimport {currency} from '../utils/currency'\r\n\r\nexport default {\r\n  setup() {\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const status = ref()\r\n    const loading = ref(true)\r\n    const request = ref({})\r\n\r\n    onMounted(async () => {\r\n      loading.value = true\r\n      request.value = await store.dispatch('request/loadOne', route.params.id)\r\n      status.value = request.value?.status\r\n      loading.value = false\r\n    })\r\n\r\n    const hasChanges = computed(() => request.value.status !== status.value)\r\n\r\n    const remove = async () => {\r\n      await store.dispatch('request/remove', route.params.id)\r\n      router.push('/')\r\n    }\r\n\r\n    const update = async () => {\r\n      const data = {...request.value, status: status.value, id: route.params.id}\r\n      await store.dispatch('request/update', data)\r\n      request.value.status = status.value\r\n    }\r\n\r\n    return {loading, request, currency, remove, update, status, hasChanges}\r\n  },\r\n  components: {AppPage, AppLoader, AppStatus}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=4117c93d\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Даниил\\\\Desktop\\\\Vue\\\\13\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}